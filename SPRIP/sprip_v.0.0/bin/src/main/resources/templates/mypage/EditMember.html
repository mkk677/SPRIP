<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원정보수정</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">    
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<!-- <header id="header" th:replace="~{fragments/header :: header}"> </header> -->
<main>
    <div class="mypage_title">
        <div class="mypage_title_name">
            <img src="/img/logo.png">
            <span style="color:#00BEA7">USERID</span><span>님</span>
            <a>개인정보 수정<i class="bi bi-arrow-right-short"></i></a>
        </div>
        <div class="mypage_title_info">
            <div class="mypage_info_div">
                <span class="mypage_info_title">등급</span><br><span class="mypage_info_bold">VVIP</span>
            </div>
            <div class="mypage_info_div" style="color:#A99D9D; font-size:30px;margin-top:3px;">|</div>
            <div class="mypage_info_div">
                <span class="mypage_info_title">마일리지</span><br><span class="mypage_info_bold">3,500P</span>
            </div>
        </div>
    </div>
    <hr class="color_line">
    <div id="mypage_edit">
        <div class="mypage_serve_title">
            <h3><i class="bi bi-person-circle"></i>개인정보 수정</h3>
        </div>
        <div style="clear:both;"></div>
 <!--       	<form id="edit_form" method="post" action="/members/{userid}/edit" th:object="${form}" > -->
       	<form id="edit_form" method="post" th:object="${form}" >
            <span>아이디</span>
                <input class="color_input" id="userid" name="userid" th:field="*{userid}" type="text" readonly><br>
            <span>비밀번호</span>    
                <input class="color_input" type="password" id="userpw" name="userpw" th:field="*{userpw}" placeholder="패스워드를 입력하세요"><br>
                <span class="error" th:if="${#fields.hasErrors('userpw')}" th:errors="*{userpw}" style="display: block"></span>
            <span>비밀번호 확인</span>
                <input class="color_input" type="password" id="userpwConfirm" placeholder="패스워드를 한번 더 입력하세요"><br>
                <span id="passwordMessage" style="display: block"></span>
            <span>이름</span>
                <input class="color_input" type="text" id="username" name="username" th:field="*{username}" placeholder="이름을 입력하세요"><br>
                <span class="error" th:if="${#fields.hasErrors('username')}" th:errors="*{username}" style="display: block"></span>
            <span>전화번호</span>
                <input class="color_input" type="text" id="userphone" name="userphone" th:field="*{userphone}" placeholder="전화번호를 입력하세요"><br>
                <span class="error" th:if="${#fields.hasErrors('userphone')}" th:errors="*{userphone}" style="display: block"></span>
            <span>이메일</span>
                <input class="color_input" type="text" id="useremail" name="useremail" th:field="*{useremail}" placeholder="이메일을 입력하세요"><br>
                <span class="error" th:if="${#fields.hasErrors('useremail')}" th:errors="*{useremail}" style="display: block"></span>
            <button type="submit" class="color_button" id="signup" style="width:150px" formaction="/members/{userid}/edit">수정 완료</button>
    		<button type="submit" class="color_button" id="delete" style="width:150px" formaction="/members/{userid}/delete">회원 탈퇴</button>
    	</form>
    </div>
</main>
<footer>
</footer>
    <script>
    $(document).ready(function() {
        // 비밀번호 확인 체크
        $("#userpwConfirm").on("keyup", function() {
            var password = $("#userpw").val();
            var confirmPassword = $(this).val();
            if (password === confirmPassword) {
                $("#passwordMessage").text("비밀번호가 일치합니다.");
            } else {
                $("#passwordMessage").text("비밀번호가 일치하지 않습니다.");
            }
        });
  	 )};
        
    </script>
</body>
</html>